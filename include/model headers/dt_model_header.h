// Auto-generated C++ header file
// Model Type: Decision Tree
// Generated on: 2026-02-04 17:12:38
// Info: Nodes: 111

#ifndef DT_MODEL_DATA_H
#define DT_MODEL_DATA_H

#include <stdint.h>
#include <string.h>

#ifdef __AVR__
  #include <avr/pgmspace.h>
#else
  #ifndef PROGMEM
    #define PROGMEM
  #endif
  #ifndef pgm_read_byte
    #define pgm_read_byte(addr) (*(const uint8_t *)(addr))
  #endif
  #ifndef pgm_read_word
    #define pgm_read_word(addr) (*(const uint16_t *)(addr))
  #endif
  #ifndef pgm_read_float
    #define pgm_read_float(addr) (*(const float *)(addr))
  #endif
  #ifndef memcpy_P
    #define memcpy_P(dest, src, n) memcpy((dest), (src), (n))
  #endif
#endif

// Model Parameters
#define DT_FEATURE_COUNT 12
#define DT_TOTAL_NODES 111
#define DT_NUM_CLASSES 12
#define DT_MAX_DEPTH 12

// Class Names
static const char* DT_CLASS_NAMES[12] = {
    "camomile",
    "thoroughly minted infusion",
    "berry burst",
    "darjeeling blend",
    "decaf nutmeg and vanilla",
    "earl grey",
    "english breakfast tea",
    "fresh orange",
    "garden selection (lemon)",
    "green tea",
    "raspberry",
    "sweet cherry"
};

typedef struct {
    int8_t featureIndex;
    uint8_t label;
    float threshold;
    int16_t leftChild;
    int16_t rightChild;
} dt_node_t;

static const dt_node_t DT_NODES[111] PROGMEM = {
    {7, 255, 1659644.000000f, 1, 2},
    {0, 255, 30.770000f, 3, 4},
    {4, 255, 29.189999f, 5, 6},
    {7, 255, 1490662.000000f, 7, 8},
    {2, 255, 976.270020f, 9, 10},
    {2, 255, 976.905029f, 11, 12},
    {5, 255, 65.845001f, 13, 14},
    {0, 255, 29.270000f, 15, 16},
    {0, 255, 25.099998f, 17, 18},
    {3, 255, 649112.500000f, 19, 20},
    {3, 255, 690750.500000f, 21, 22},
    {4, 255, 25.680000f, 23, 24},
    {-1, 10, 0.000000f, -1, -1},
    {11, 255, -448127.500000f, 25, 26},
    {0, 255, 30.755001f, 27, 28},
    {-1, 2, 0.000000f, -1, -1},
    {-1, 1, 0.000000f, -1, -1},
    {-1, 2, 0.000000f, -1, -1},
    {-1, 1, 0.000000f, -1, -1},
    {-1, 1, 0.000000f, -1, -1},
    {-1, 6, 0.000000f, -1, -1},
    {4, 255, 32.599998f, 29, 30},
    {2, 255, 976.674988f, 31, 32},
    {3, 255, 988614.500000f, 33, 34},
    {3, 255, 794569.500000f, 35, 36},
    {9, 255, 2.290000f, 37, 38},
    {-1, 7, 0.000000f, -1, -1},
    {-1, 8, 0.000000f, -1, -1},
    {-1, 5, 0.000000f, -1, -1},
    {1, 255, 82.039993f, 39, 40},
    {-1, 8, 0.000000f, -1, -1},
    {-1, 8, 0.000000f, -1, -1},
    {-1, 7, 0.000000f, -1, -1},
    {10, 255, 1.140000f, 41, 42},
    {2, 255, 976.339966f, 43, 44},
    {3, 255, 639620.500000f, 45, 46},
    {7, 255, 1875673.000000f, 47, 48},
    {-1, 8, 0.000000f, -1, -1},
    {2, 255, 976.969971f, 49, 50},
    {1, 255, 65.705002f, 51, 52},
    {-1, 5, 0.000000f, -1, -1},
    {-1, 1, 0.000000f, -1, -1},
    {1, 255, 49.950001f, 53, 54},
    {-1, 3, 0.000000f, -1, -1},
    {-1, 4, 0.000000f, -1, -1},
    {-1, 5, 0.000000f, -1, -1},
    {9, 255, 9.129999f, 55, 56},
    {11, 255, -441429.500000f, 57, 58},
    {1, 255, 45.270000f, 59, 60},
    {8, 255, 0.335000f, 61, 62},
    {-1, 8, 0.000000f, -1, -1},
    {-1, 8, 0.000000f, -1, -1},
    {-1, 11, 0.000000f, -1, -1},
    {-1, 5, 0.000000f, -1, -1},
    {-1, 0, 0.000000f, -1, -1},
    {4, 255, 28.445000f, 63, 64},
    {1, 255, 76.244995f, 65, 66},
    {6, 255, 975.429993f, 67, 68},
    {6, 255, 975.114990f, 69, 70},
    {3, 255, 1046945.000000f, 71, 72},
    {2, 255, 976.474976f, 73, 74},
    {0, 255, 30.120001f, 75, 76},
    {-1, 11, 0.000000f, -1, -1},
    {3, 255, 683122.500000f, 77, 78},
    {9, 255, 4.800000f, 79, 80},
    {0, 255, 27.510000f, 81, 82},
    {-1, 0, 0.000000f, -1, -1},
    {4, 255, 27.029999f, 83, 84},
    {0, 255, 28.955000f, 85, 86},
    {0, 255, 30.005001f, 87, 88},
    {3, 255, 951904.500000f, 89, 90},
    {-1, 9, 0.000000f, -1, -1},
    {-1, 4, 0.000000f, -1, -1},
    {-1, 3, 0.000000f, -1, -1},
    {0, 255, 26.865000f, 91, 92},
    {-1, 11, 0.000000f, -1, -1},
    {-1, 8, 0.000000f, -1, -1},
    {-1, 10, 0.000000f, -1, -1},
    {7, 255, 1765327.500000f, 93, 94},
    {1, 255, 74.070000f, 95, 96},
    {-1, 11, 0.000000f, -1, -1},
    {-1, 11, 0.000000f, -1, -1},
    {-1, 11, 0.000000f, -1, -1},
    {2, 255, 976.299988f, 97, 98},
    {6, 255, 974.859985f, 99, 100},
    {-1, 10, 0.000000f, -1, -1},
    {-1, 8, 0.000000f, -1, -1},
    {2, 255, 976.469971f, 101, 102},
    {-1, 6, 0.000000f, -1, -1},
    {-1, 6, 0.000000f, -1, -1},
    {-1, 4, 0.000000f, -1, -1},
    {-1, 5, 0.000000f, -1, -1},
    {11, 255, -482152.500000f, 103, 104},
    {-1, 0, 0.000000f, -1, -1},
    {-1, 5, 0.000000f, -1, -1},
    {-1, 8, 0.000000f, -1, -1},
    {-1, 5, 0.000000f, -1, -1},
    {-1, 9, 0.000000f, -1, -1},
    {-1, 5, 0.000000f, -1, -1},
    {1, 255, 62.330002f, 105, 106},
    {2, 255, 975.994995f, 107, 108},
    {-1, 9, 0.000000f, -1, -1},
    {-1, 4, 0.000000f, -1, -1},
    {-1, 3, 0.000000f, -1, -1},
    {-1, 4, 0.000000f, -1, -1},
    {-1, 9, 0.000000f, -1, -1},
    {-1, 3, 0.000000f, -1, -1},
    {-1, 9, 0.000000f, -1, -1},
    {0, 255, 29.775002f, 109, 110},
    {-1, 4, 0.000000f, -1, -1},
    {-1, 3, 0.000000f, -1, -1}
};

//===========================================================================
// DT Inference Functions
//===========================================================================

#define DT_READ_NODE(idx) ({ \
    dt_node_t _n; \
    memcpy_P(&_n, &DT_NODES[idx], sizeof(dt_node_t)); \
    _n; })

static inline uint8_t dt_predict(const float* features) {
    uint16_t nodeIdx = 0;
    dt_node_t node = DT_READ_NODE(nodeIdx);
    
    while (node.featureIndex >= 0) {
        if (features[node.featureIndex] < node.threshold) {
            nodeIdx = node.leftChild;
        } else {
            nodeIdx = node.rightChild;
        }
        node = DT_READ_NODE(nodeIdx);
    }
    return node.label;
}

static inline const char* dt_get_class_name(uint8_t idx) {
    return (idx < 12) ? DT_CLASS_NAMES[idx] : "unknown";
}

#endif // DT_MODEL_DATA_H
